<div class="container">
<h2 class="title text-left">Carrinho de Compras</h2>
</div>

<div class="container p-2">
    <form class="container">
        <input
        name="data"
        class="form-control w-50"
        type="month"
        id="month"
        />
        <button
        name="filtrar"
        class="btn btn-primary m-1 align-self-end" (click)="filtrarPedidos()">
            Filtrar
        </button>
    </form>
</div>

<div class="container text-center">
    <div class="row p-2 text-center text-bg-primary rounded">
        <div class="col p-2">Id_pedido</div>
        <div class="col p-2">Produtos</div>
        <div class="col p-2">Data da Compra</div>
        <div class="col p-2">Valor</div>
        <div class="col p-2">Status</div>
        <div class="col p-2">Quantidade</div>
        <div class="col p-2">Disponibilidade</div>
        <div class="col p-2"></div>
    </div>

    <div class="row p-2 bg-light border text-center" *ngFor="let p of listaPedidos">
        <div id="id-{{p.id_pedido}}" class="col">{{p.id_pedido}}</div>
        <div class="col">
            <div class="row" *ngFor="let id of p.id_produto">
                <button id="btn-{{p.id_pedido}}-{{id}}" type="button" class="list-group-item list-group-item-action" (click)="verProduto(id)" aria-current="true">
                    {{listaItem.get(id)?.nome}}
                </button>
            </div>
        </div>
        <div id="hora-{{p.id_pedido}}" class="col">{{p.data_hora.toLocaleDateString()}} {{p.data_hora.toLocaleTimeString()}}</div>
        <div id="valor-{{p.id_pedido}}" class="col">{{p.valor}}</div>
        <div id="status-{{p.id_pedido}}" class="col">{{p.status}}</div>
        <div class="col">
            <div id="quantidade-{{p.id_pedido}}-{{p.id_produto[i]}}" class="row justify-content-center" *ngFor="let quantidade of p.quantidade; let i = index">
                {{quantidade}}
            </div>
        </div>
        <div class="col">
            <div id="estoque-{{p.id_pedido}}-{{id}}" class="row justify-content-center" *ngFor="let id of p.id_produto">
                {{listaItem.get(id)?.quantidade}}
            </div>
        </div>
        <div class="col">
            <button id="btn-{{p.id_pedido}}" type="button" class="btn btn-primary" name="button-{{p.id_pedido}}" (click)="comprar(p)">
                Comprar Novamente
            </button>
        </div>
    </div>
</div>